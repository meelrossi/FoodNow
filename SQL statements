CREATE TABLE USER (
	ID SERIAL int NOT NULL,
	NAME varchar(25) NOT NULL, 
	LASTMANE varchar(25) NOT NULL, 
	EMAIL varchar(50) NOT NULL, 
	BIRTHDATE date NOT NULL, 
	PASSWORD varchar(20) NOT NULL, 
	USER_LEVEL int NOT NULL,
	PRIMARY_KEY(ID)
);

CREATE TABLE ADDRESS (
	ID SERIAL int NOT NULL,
	USER_ID int NOT NULL, 
	STREET varchar(50) NOT NULL,
	STREET_NUMBER int NOT NULL, 
	TYPE char(1) NOT NULL, 
	PRIMARY_KEY(ID),
	FOREIGN_KEY(USER_ID) REFERENCES USER
);

CREATE TABLE RESTAURANT (
	ID SERIAL int NOT NULL, 
	MINAMOUNT real NOT NULL, 
	DESCRIPTION text NOT NULL, 
	NAME varchar(30) NOT NULL, 
	PRIMARY_KEY(ID)
);

CREATE TABLE ORDER (
	ID SERIAL int NOT NULL, 
	USER_ID int NOT NULL, 
	ADDRESS_ID int NOT NULL, 
	TOTAL real NOT NULL, 
	RESTAURANT_ID int NOT NULL,
	ORDER_DATE timestamp NOT NULL,
	PRIMARY_KEY(ID),
	FOREIGN_KEY(USER_ID) REFERENCES USER,
	FOREIGN_KEY(ADDRESS_ID) REFERENCES ADDRESS,
	FOREIGN_KEY(RESTAURANT_ID) REFERENCES RESTAURANT
);

CREATE TABLE DISH (
	ID SERIAL int NOT NULL, 
	DESCRIPTION text NOT NULL, 
	PRICE real NOT NULL, 
	NAME varchar(30) NOT NULL, 
	RESTAURANT_ID int NOT NULL, 
	MENU_CATEGORY varchar(30) NOT NULL,
	PRIMARY_KEY(ID),
	FOREIGN_KEY(RESTAURANT_ID) REFERENCES RESTAURANT
);

CREATE TABLE ORDER_DISH (
	ORDER_ID int NOT NULL,
	DISH_ID int NOT NULL,
	FOREIGN_KEY(ORDER_ID) REFERENCES ORDER,
	FOREIGN_KEY(DISH_ID) REFERENCES DISH
);